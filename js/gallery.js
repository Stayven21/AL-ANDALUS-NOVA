// Projects Configuration - Each project has multiple images
const galleryConfig = {
    projects: [
        // {
        //     id: 1,
        //     title: "Interpack Exhibition in MESSE DÜSSELDORF GERMANY",
        //     client: "PAVAN, ITALY",
        //     location: "Düsseldorf, Germany",
        //     year: "2023",
        //     category: "Exhibition Stand",
        //     mainImage: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=800&auto=format&fit=crop&q=80",
        //     images: [
        //         {
        //             img: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=1200&auto=format&fit=crop&q=80",
        //             caption: "Main entrance of the exhibition stand"
        //         },
        //         {
        //             img: "https://images.unsplash.com/photo-1492684223066-dd23140edf6d?w=1200&auto=format&fit=crop&q=80",
        //             caption: "Product display area with custom lighting"
        //         },
        //         {
        //             img: "https://images.unsplash.com/photo-1511578314322-379afb476865?w=1200&auto=format&fit=crop&q=80",
        //             caption: "Meeting room interior"
        //         },
        //         {
        //             img: "https://images.unsplash.com/photo-1542744095-fcf48d80b0fd?w=1200&auto=format&fit=crop&q=80",
        //             caption: "Interactive digital screen area"
        //         },
        //         {
        //             img: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=1200&auto=format&fit=crop&q=80&h=800",
        //             caption: "Night view of the exhibition stand"
        //         },
        //         {
        //             img: "https://images.unsplash.com/photo-1516455590571-18256e5bb9ff?w=1200&auto=format&fit=crop&q=80",
        //             caption: "Back office and storage area"
        //         }
        //     ],
        //     description: "A premium exhibition stand for PAVAN featuring interactive displays, meeting rooms, and a fully functional product demonstration area."
        // },
        {
            id: 2,
            title: "Plast Eurasia international Fair.",
            client: "GDK Blow Moulding Machines",
            location: "Dubai World Trade Center, UAE",
            year: "",
            category: "",
            mainImage: "images/technical/plast/Plast4.png",
            images: [
                {
                    img: "images/technical/plast/Plast2.png",
                    caption: ""
                },
                {
                    img: "images/technical/plast/Plast3.png",
                    caption: ""
                },
                {
                    img: "images/technical/plast/Plast4.png",
                    caption: ""
                }
            ],
            description: ""
        },
        ,
        {
            id: 3,
            title: "ANUGA Fair in Cologne, Germany",
            client: "Mabroc Teas",
            location: "Dubai World Trade Center, UAE",
            year: "",
            category: "",
            mainImage: "images/technical/anuga/ANUGA1.png",
            images: [
                {
                    img: "images/technical/anuga/ANUGA2.png",
                    caption: ""
                }
            ],
            description: ""
        },
        ,
        {
            id: 4,
            title: "IWA Outdoor Classic in Nuremburg, Germany.",
            client: "RH PREYDA",
            location: "Usa Base Company",
            year: "",
            category: "",
            mainImage: "images/technical/iwa/IWA1.png",
            images: [
                {
                    img: "images/technical/iwa/IWA2.png",
                    caption: ""
                },
                {
                    img: "images/technical/iwa/IWA3.png",
                    caption: ""
                },
                {
                    img: "iimages/technical/iwa/IWA4.png",
                    caption: ""
                }
                ,
                {
                    img: "iimages/technical/iwa/IWA5.png",
                    caption: ""
                }
                ,
                {
                    img: "iimages/technical/iwa/IWA6.png",
                    caption: ""
                }
            ],
            description: ""
        },
        {
            id: 5,
            title: "Automechanika in Istanbul, Turkey.",
            client: "GSP CHINA'S",
            location: "CHINA",
            year: "",
            category: "",
            mainImage: "images/technical/auto/Automechanika1.png",
            images: [
                {
                    img: "images/technical/auto/Automechanika2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/auto/Automechanika3.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 6,
            title: "Automechanika International Trade Fair in Istanbul, Turkey.",
            client: "MCB CHINA'S",
            location: "CHINA",
            year: "",
            category: "",
            mainImage: "images/technical/china/china1.png",
            images: [
                {
                    img: "images/technical/china/china2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/china/china3.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 7,
            title: "Automechanika in Istanbul, Turkey.",
            client: "GSP CHINA'S",
            location: "CHINA",
            year: "",
            category: "",
            mainImage: "images/technical/auto/Automechanika1.png",
            images: [
                {
                    img: "images/technical/auto/Automechanika2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/auto/Automechanika3.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 8,
            title: "INDEX EXHIBITION IN DUBAI UAE.",
            client: "ANATOLI CORPORATE",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/index/INDEX.png",
            images: [
                {
                    img: "images/technical/index/index2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/index/index3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/index/index4.png",
                    caption: ""
                }
            
            ],
            description: ""
        }, {
            id: 9,
            title: "Power-Gen Europe MILAN Italy.",
            client: "KOREAN PAVILLION",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/power/Power1.png",
            images: [
                {
                    img: "images/technical/power/Power2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/power/Power3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/power/Power4.png",
                    caption: ""
                },
                  {
                    img: "images/technical/power/Power5.png",
                    caption: ""
                },
                  {
                    img: "images/technical/power/Power6.png",
                    caption: ""
                }
            
            ],
            description: ""
        }, {
            id: 10,
            title: "ULFOOD MANUFACTURING Exhibition in Dubai UAE.",
            client: "PAVAN GROUP SRL, ITALY",
            location: "ITALY",
            year: "",
            category: "",
            mainImage: "images/technical/ulfood/ULFOOD1.png",
            images: [
                {
                    img: "images/technical/ulfood/ULFOOD2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/ulfood/ULFOOD3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/ulfood/ULFOOD4.png",
                    caption: ""
                },{
                    img: "images/technical/ulfood/ULFOOD5.png",
                    caption: ""
                }
            
            ],
            description: ""
        }, {
            id: 11,
            title: "Automechanika Frankfurt in Messe Frankfurt, Germany.",
            client: "ATP Automotive",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/Automotive/Automotive1.png",
            images: [
                {
                    img: "images/technical/Automotive/Automotive2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/Automotive/Automotive3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/Automotive/Automotive4.png",
                    caption: ""
                }
            
            ],
            description: ""
        }, {
            id: 12,
            title: "KIND + JUGEND COLOGNE.",
            client: "we made me (wmm)",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/KIND/KIND1.png",
            images: [
                {
                    img: "images/technical/KIND/KIND2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/KIND/KIND3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/KIND/KIND4.png",
                    caption: ""
                }
            
            ],
            description: ""
        }, {
            id: 13,
            title: "GULFOOD Exhibition in Dubai, UAE",
            client: "PAVAN GROUP SRL, ITALY",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/GULFOOD/GULFOOD.png",
            images: [
                {
                    img: "images/technical/GULFOOD/GULFOOD1.png",
                    caption: ""
                },
                  {
                    img: "images/technical/GULFOOD/GULFOOD2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/GULFOOD/GULFOOD3.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 14,
            title: "IDMA Exhibition in Istanbul, Turkey",
            client: "OMAS, ITALYA",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/IDMA/IDMA1.png",
            images: [
                {
                    img: "images/technical/IDMA/IDMA2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/IDMA/IDMA3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/IDMA/IDMA4.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 15,
            title: "IDMA Exhibition in Istambul, turkey",
            client: "PINGEL, CHINA",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/pingle/PINGEL1.png",
            images: [
                {
                    img: "images/technical/pingle/PINGEL2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/pingle/PINGEL3.png",
                    caption: ""
                },
                  {
                    img: "images/technical/pingle/PINGEL4.png",
                    caption: ""
                }
            
            ],
            description: ""
        },
        {
            id: 16,
            title: "Interpack Exhibition in Messe DUSSELDORF GERMANY",
            client: "PAVAN, ITALY",
            location: "",
            year: "",
            category: "",
            mainImage: "images/technical/GULFOOD/GULFOOD.png",
            images: [
                {
                    img: "images/technical/GULFOOD/GULFOOD1.png",
                    caption: ""
                },
                  {
                    img: "images/technical/GULFOOD/GULFOOD2.png",
                    caption: ""
                },
                  {
                    img: "images/technical/GULFOOD/GULFOOD3.png",
                    caption: ""
                }
            
            ],
            description: ""
        }
        
        
    ],
    
    // Initialize gallery
    init: function() {
        this.createGalleryHTML();
        this.setupEventListeners();
        this.createProjectLightbox();
    },
    
    // Create gallery HTML structure - showing 1 image per project
    createGalleryHTML: function() {
        const galleryGrid = document.getElementById('galleryGrid');
        if (!galleryGrid) return;
        
        let galleryHTML = '';
        
        this.projects.forEach((project, index) => {
            galleryHTML += `
                <div class="gallery-item" data-aos="fade-up" data-aos-delay="${index * 100}" 
                     data-project-index="${index}">
                    <img src="${project.mainImage}" alt="${project.title}" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="mb-2">
                            <span class="inline-block px-2 py-1 text-xs bg-gold-500 text-white rounded">
                                ${project.category}
                            </span>
                        </div>
                        <h3 class="text-lg font-bold mb-1">${project.title.split(' ').slice(0, 4).join(' ')}...</h3>
                        <p class="text-sm opacity-90">Client: ${project.client}</p>
                        <p class="text-xs opacity-80 mt-1">
                            <i class="fas fa-map-marker-alt mr-1"></i>${project.location}
                        </p>
                    </div>
                    <div class="gallery-icon">
                        <i class="fas fa-images"></i>
                        <span class="absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                            ${project.images.length}
                        </span>
                    </div>
                </div>
            `;
        });
        
        galleryGrid.innerHTML = galleryHTML;
    },
    
    // Create project lightbox
    createProjectLightbox: function() {
        if (!document.getElementById('projectLightbox')) {
            const lightboxHTML = `
                <div class="lightbox" id="projectLightbox">
                    <button class="lightbox-close" id="projectLightboxClose">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    <button class="lightbox-nav lightbox-prev" id="projectLightboxPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <div class="lightbox-content">
                        <img id="projectLightboxImage" src="" alt="" class="lightbox-img">
                        <div class="lightbox-info">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 id="projectLightboxTitle"></h3>
                                    <p id="projectLightboxClient" class="text-gold-300"></p>
                                </div>
                                <div class="text-right">
                                    <span id="projectLightboxCounter" class="text-sm bg-black/30 px-3 py-1 rounded-full"></span>
                                </div>
                            </div>
                            <p id="projectLightboxCaption" class="text-sm"></p>
                            <div class="mt-4 flex items-center text-sm text-gray-300">
                                <span id="projectLightboxLocation" class="mr-4">
                                    <i class="fas fa-map-marker-alt mr-1"></i>
                                </span>
                                <span id="projectLightboxYear">
                                    <i class="fas fa-calendar-alt mr-1"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="lightbox-nav lightbox-next" id="projectLightboxNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                    <!-- Project Thumbnails -->
                    <div class="project-thumbnails" id="projectThumbnails">
                        <!-- Thumbnails will be inserted here -->
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', lightboxHTML);
        }
    },
    
    // Setup event listeners
    setupEventListeners: function() {
        // Project gallery item clicks
        document.querySelectorAll('.gallery-item').forEach((item, index) => {
            item.addEventListener('click', () => this.openProject(index, 0));
        });
        
        // Lightbox controls
        document.getElementById('projectLightboxClose')?.addEventListener('click', () => this.closeProject());
        document.getElementById('projectLightboxNext')?.addEventListener('click', () => this.nextProjectImage());
        document.getElementById('projectLightboxPrev')?.addEventListener('click', () => this.prevProjectImage());
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') this.closeProject();
            if (e.key === 'ArrowRight') this.nextProjectImage();
            if (e.key === 'ArrowLeft') this.prevProjectImage();
        });
        
        // Close lightbox when clicking outside
        document.getElementById('projectLightbox')?.addEventListener('click', (e) => {
            if (e.target.id === 'projectLightbox') {
                this.closeProject();
            }
        });
    },
    
    // Current state
    currentProjectIndex: 0,
    currentImageIndex: 0,
    
    // Open a specific project
    openProject: function(projectIndex, imageIndex = 0) {
        this.currentProjectIndex = projectIndex;
        this.currentImageIndex = imageIndex;
        this.updateProjectLightbox();
        document.getElementById('projectLightbox').classList.add('active');
        document.body.style.overflow = 'hidden';
    },
    
    // Close project lightbox
    closeProject: function() {
        document.getElementById('projectLightbox').classList.remove('active');
        document.body.style.overflow = 'auto';
    },
    
    // Update project lightbox content
    updateProjectLightbox: function() {
        const project = this.projects[this.currentProjectIndex];
        const image = project.images[this.currentImageIndex];
        
        // Update main image
        document.getElementById('projectLightboxImage').src = image.img;
        document.getElementById('projectLightboxImage').alt = image.caption;
        
        // Update project info
        document.getElementById('projectLightboxTitle').textContent = project.title;
        document.getElementById('projectLightboxClient').textContent = `Client: ${project.client}`;
        document.getElementById('projectLightboxCaption').textContent = image.caption;
        document.getElementById('projectLightboxLocation').innerHTML = `<i class="fas fa-map-marker-alt mr-1"></i>${project.location}`;
        document.getElementById('projectLightboxYear').innerHTML = `<i class="fas fa-calendar-alt mr-1"></i>${project.year}`;
        
        // Update counter
        document.getElementById('projectLightboxCounter').textContent = 
            `${this.currentImageIndex + 1} / ${project.images.length}`;
        
        // Update thumbnails
        this.updateThumbnails();
    },
    
    // Update thumbnails
    updateThumbnails: function() {
        const project = this.projects[this.currentProjectIndex];
        const thumbnailsContainer = document.getElementById('projectThumbnails');
        
        let thumbnailsHTML = '';
        project.images.forEach((img, index) => {
            thumbnailsHTML += `
                <div class="thumbnail-item ${index === this.currentImageIndex ? 'active' : ''}" 
                     onclick="galleryConfig.goToProjectImage(${index})">
                    <img src="${img.img}" alt="${img.caption}">
                </div>
            `;
        });
        
        thumbnailsContainer.innerHTML = thumbnailsHTML;
    },
    
    // Navigate to specific image in current project
    goToProjectImage: function(imageIndex) {
        this.currentImageIndex = imageIndex;
        this.updateProjectLightbox();
    },
    
    // Next image in current project
    nextProjectImage: function() {
        const project = this.projects[this.currentProjectIndex];
        this.currentImageIndex = (this.currentImageIndex + 1) % project.images.length;
        this.updateProjectLightbox();
    },
    
    // Previous image in current project
    prevProjectImage: function() {
        const project = this.projects[this.currentProjectIndex];
        this.currentImageIndex = (this.currentImageIndex - 1 + project.images.length) % project.images.length;
        this.updateProjectLightbox();
    },
    
    // Next project
    nextProject: function() {
        this.currentProjectIndex = (this.currentProjectIndex + 1) % this.projects.length;
        this.currentImageIndex = 0;
        this.updateProjectLightbox();
    },
    
    // Previous project
    prevProject: function() {
        this.currentProjectIndex = (this.currentProjectIndex - 1 + this.projects.length) % this.projects.length;
        this.currentImageIndex = 0;
        this.updateProjectLightbox();
    }
};

// Initialize gallery when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    galleryConfig.init();
});